<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_121) on Tue Feb 14 07:41:48 CST 2017 -->
<title>Anomaly</title>
<meta name="date" content="2017-02-14">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Anomaly";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":9,"i2":9,"i3":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Anomaly.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/numenta/nupic/algorithms/Anomaly.AveragedAnomalyRecordList.html" title="class in org.numenta.nupic.algorithms"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/numenta/nupic/algorithms/Anomaly.html" target="_top">Frames</a></li>
<li><a href="Anomaly.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.numenta.nupic.algorithms</div>
<h2 title="Class Anomaly" class="title">Class Anomaly</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.numenta.nupic.algorithms.Anomaly</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable, <a href="../../../../org/numenta/nupic/model/Persistable.html" title="interface in org.numenta.nupic.model">Persistable</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/numenta/nupic/algorithms/AnomalyLikelihood.html" title="class in org.numenta.nupic.algorithms">AnomalyLikelihood</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">Anomaly</span>
extends java.lang.Object
implements <a href="../../../../org/numenta/nupic/model/Persistable.html" title="interface in org.numenta.nupic.model">Persistable</a></pre>
<div class="block">This module analyzes and estimates the distribution of averaged anomaly scores
 from a CLA model. Given a new anomaly score `s`, estimates `P(score >= s)`.

 The number `P(score >= s)` represents the likelihood of the current state of
 predictability. For example, a likelihood of 0.01 or 1% means we see this much
 predictability about one out of every 100 records. The number is not as unusual
 as it seems. For records that arrive every minute, this means once every hour
 and 40 minutes. A likelihood of 0.0001 or 0.01% means we see it once out of
 10,000 records, or about once every 7 days.

 USAGE
 -----

 The <code>Anomaly</code> base class follows the factory pattern and can construct an
 appropriately configured anomaly calculator by invoking the following:
 
 <pre>
 Map<String, Object> params = new HashMap<>();
 params.put(KEY_MODE, Mode.LIKELIHOOD);            // May be Mode.PURE or Mode.WEIGHTED
 params.put(KEY_USE_MOVING_AVG, true);             // Instructs the Anomaly class to compute moving average
 params.put(KEY_WINDOW_SIZE, 10);                  // #of inputs over which to compute the moving average
 params.put(KEY_IS_WEIGHTED, true);                // Use a weighted moving average or not
 
 // Instantiate the Anomaly computer
 Anomaly anomalyComputer = Anomaly.create(params); // Returns the appropriate Anomaly
                                                   // implementation.
 int[] actual = array of input columns at time t
 int[] predicted = array of predicted columns for t+1
 double anomaly = an.compute(
     actual, 
     predicted, 
     0 (inputValue = OPTIONAL, needed for likelihood calcs), 
     timestamp);
     
 double anomalyProbability = anomalyComputer.anomalyProbability(
     inputValue, anomaly, timestamp);
 </pre>

 Raw functions
 -------------
 
 There are two lower level functions, estimateAnomalyLikelihoods and
 updateAnomalyLikelihoods. The details of these are described by the method docs.
 
 For more information please see: <a href="../../../../org/numenta/nupic/algorithms/AnomalyTest.html" title="class in org.numenta.nupic.algorithms"><code>AnomalyTest</code></a> and <a href="../../../../org/numenta/nupic/algorithms/AnomalyLikelihoodTest.html" title="class in org.numenta.nupic.algorithms"><code>AnomalyLikelihoodTest</code></a></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Numenta, David Ray</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/numenta/nupic/algorithms/AnomalyTest.html" title="class in org.numenta.nupic.algorithms"><code>AnomalyTest</code></a>, 
<a href="../../../../org/numenta/nupic/algorithms/AnomalyLikelihoodTest.html" title="class in org.numenta.nupic.algorithms"><code>AnomalyLikelihoodTest</code></a>, 
<a href="../../../../serialized-form.html#org.numenta.nupic.algorithms.Anomaly">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.AveragedAnomalyRecordList.html" title="class in org.numenta.nupic.algorithms">Anomaly.AveragedAnomalyRecordList</a></span></code>
<div class="block">Container to hold interim <a href="../../../../org/numenta/nupic/algorithms/AnomalyLikelihood.html" title="class in org.numenta.nupic.algorithms"><code>AnomalyLikelihood</code></a> calculations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.Mode.html" title="enum in org.numenta.nupic.algorithms">Anomaly.Mode</a></span></code>
<div class="block">Modes to use for factory creation method</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#KEY_DIST">KEY_DIST</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#KEY_ESTIMATION_SAMPLES">KEY_ESTIMATION_SAMPLES</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#KEY_HIST_LIKE">KEY_HIST_LIKE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#KEY_HIST_VALUES">KEY_HIST_VALUES</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#KEY_IS_WEIGHTED">KEY_IS_WEIGHTED</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#KEY_LEARNING_PERIOD">KEY_LEARNING_PERIOD</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#KEY_MEAN">KEY_MEAN</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#KEY_MODE">KEY_MODE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#KEY_MVG_AVG">KEY_MVG_AVG</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#KEY_STDEV">KEY_STDEV</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#KEY_TOTAL">KEY_TOTAL</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#KEY_USE_MOVING_AVG">KEY_USE_MOVING_AVG</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#KEY_VARIANCE">KEY_VARIANCE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#KEY_WINDOW_SIZE">KEY_WINDOW_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/numenta/nupic/algorithms/MovingAverage.html" title="class in org.numenta.nupic.algorithms">MovingAverage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#movingAverage">movingAverage</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#serialVersionUID">serialVersionUID</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#useMovingAverage">useMovingAverage</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#VALUE_NONE">VALUE_NONE</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#Anomaly--">Anomaly</a></span>()</code>
<div class="block">Constructs a new <code>Anomaly</code></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#Anomaly-boolean-int-">Anomaly</a></span>(boolean&nbsp;useMovingAverage,
       int&nbsp;windowSize)</code>
<div class="block">Constructs a new <code>Anomaly</code></div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#compute-int:A-int:A-double-long-">compute</a></span>(int[]&nbsp;activeColumns,
       int[]&nbsp;predictedColumns,
       double&nbsp;inputValue,
       long&nbsp;timestamp)</code>
<div class="block">Compute the anomaly score as the percent of active columns not predicted.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#computeRawAnomalyScore-int:A-int:A-">computeRawAnomalyScore</a></span>(int[]&nbsp;activeColumns,
                      int[]&nbsp;prevPredictedColumns)</code>
<div class="block">The raw anomaly score is the fraction of active columns not predicted.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/numenta/nupic/algorithms/Anomaly.html" title="class in org.numenta.nupic.algorithms">Anomaly</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#create--">create</a></span>()</code>
<div class="block">Convenience method to create a simplistic Anomaly computer in 
 <a href="../../../../org/numenta/nupic/algorithms/Anomaly.Mode.html#PURE"><code>Anomaly.Mode.PURE</code></a></div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../org/numenta/nupic/algorithms/Anomaly.html" title="class in org.numenta.nupic.algorithms">Anomaly</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/Anomaly.html#create-java.util.Map-">create</a></span>(java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;params)</code>
<div class="block">Returns an <code>Anomaly</code> configured to execute the type
 of calculation specified by the <a href="../../../../org/numenta/nupic/algorithms/Anomaly.Mode.html" title="enum in org.numenta.nupic.algorithms"><code>Anomaly.Mode</code></a>, and whether or
 not to apply a moving average.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.numenta.nupic.model.Persistable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.numenta.nupic.model.<a href="../../../../org/numenta/nupic/model/Persistable.html" title="interface in org.numenta.nupic.model">Persistable</a></h3>
<code><a href="../../../../org/numenta/nupic/model/Persistable.html#postDeSerialize--">postDeSerialize</a>, <a href="../../../../org/numenta/nupic/model/Persistable.html#postDeSerialize-T-">postDeSerialize</a>, <a href="../../../../org/numenta/nupic/model/Persistable.html#preSerialize--">preSerialize</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="serialVersionUID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialVersionUID</h4>
<pre>private static final&nbsp;long serialVersionUID</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.numenta.nupic.algorithms.Anomaly.serialVersionUID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="VALUE_NONE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VALUE_NONE</h4>
<pre>public static final&nbsp;int VALUE_NONE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.numenta.nupic.algorithms.Anomaly.VALUE_NONE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="KEY_MODE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_MODE</h4>
<pre>public static final&nbsp;java.lang.String KEY_MODE</pre>
</li>
</ul>
<a name="KEY_LEARNING_PERIOD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_LEARNING_PERIOD</h4>
<pre>public static final&nbsp;java.lang.String KEY_LEARNING_PERIOD</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.numenta.nupic.algorithms.Anomaly.KEY_LEARNING_PERIOD">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="KEY_ESTIMATION_SAMPLES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_ESTIMATION_SAMPLES</h4>
<pre>public static final&nbsp;java.lang.String KEY_ESTIMATION_SAMPLES</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.numenta.nupic.algorithms.Anomaly.KEY_ESTIMATION_SAMPLES">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="KEY_USE_MOVING_AVG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_USE_MOVING_AVG</h4>
<pre>public static final&nbsp;java.lang.String KEY_USE_MOVING_AVG</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.numenta.nupic.algorithms.Anomaly.KEY_USE_MOVING_AVG">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="KEY_WINDOW_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_WINDOW_SIZE</h4>
<pre>public static final&nbsp;java.lang.String KEY_WINDOW_SIZE</pre>
</li>
</ul>
<a name="KEY_IS_WEIGHTED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_IS_WEIGHTED</h4>
<pre>public static final&nbsp;java.lang.String KEY_IS_WEIGHTED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.numenta.nupic.algorithms.Anomaly.KEY_IS_WEIGHTED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="KEY_DIST">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_DIST</h4>
<pre>public static final&nbsp;java.lang.String KEY_DIST</pre>
</li>
</ul>
<a name="KEY_MVG_AVG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_MVG_AVG</h4>
<pre>public static final&nbsp;java.lang.String KEY_MVG_AVG</pre>
</li>
</ul>
<a name="KEY_HIST_LIKE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_HIST_LIKE</h4>
<pre>public static final&nbsp;java.lang.String KEY_HIST_LIKE</pre>
</li>
</ul>
<a name="KEY_HIST_VALUES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_HIST_VALUES</h4>
<pre>public static final&nbsp;java.lang.String KEY_HIST_VALUES</pre>
</li>
</ul>
<a name="KEY_TOTAL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_TOTAL</h4>
<pre>public static final&nbsp;java.lang.String KEY_TOTAL</pre>
</li>
</ul>
<a name="KEY_MEAN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_MEAN</h4>
<pre>public static final&nbsp;java.lang.String KEY_MEAN</pre>
</li>
</ul>
<a name="KEY_STDEV">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_STDEV</h4>
<pre>public static final&nbsp;java.lang.String KEY_STDEV</pre>
</li>
</ul>
<a name="KEY_VARIANCE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_VARIANCE</h4>
<pre>public static final&nbsp;java.lang.String KEY_VARIANCE</pre>
</li>
</ul>
<a name="movingAverage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>movingAverage</h4>
<pre>protected&nbsp;<a href="../../../../org/numenta/nupic/algorithms/MovingAverage.html" title="class in org.numenta.nupic.algorithms">MovingAverage</a> movingAverage</pre>
</li>
</ul>
<a name="useMovingAverage">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>useMovingAverage</h4>
<pre>protected&nbsp;boolean useMovingAverage</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Anomaly--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Anomaly</h4>
<pre>public&nbsp;Anomaly()</pre>
<div class="block">Constructs a new <code>Anomaly</code></div>
</li>
</ul>
<a name="Anomaly-boolean-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Anomaly</h4>
<pre>protected&nbsp;Anomaly(boolean&nbsp;useMovingAverage,
                  int&nbsp;windowSize)</pre>
<div class="block">Constructs a new <code>Anomaly</code></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>useMovingAverage</code> - indicates whether to apply and store a moving average</dd>
<dd><code>windowSize</code> - size of window to average over</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="create--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public static&nbsp;<a href="../../../../org/numenta/nupic/algorithms/Anomaly.html" title="class in org.numenta.nupic.algorithms">Anomaly</a>&nbsp;create()</pre>
<div class="block">Convenience method to create a simplistic Anomaly computer in 
 <a href="../../../../org/numenta/nupic/algorithms/Anomaly.Mode.html#PURE"><code>Anomaly.Mode.PURE</code></a></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="create-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public static&nbsp;<a href="../../../../org/numenta/nupic/algorithms/Anomaly.html" title="class in org.numenta.nupic.algorithms">Anomaly</a>&nbsp;create(java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;params)</pre>
<div class="block">Returns an <code>Anomaly</code> configured to execute the type
 of calculation specified by the <a href="../../../../org/numenta/nupic/algorithms/Anomaly.Mode.html" title="enum in org.numenta.nupic.algorithms"><code>Anomaly.Mode</code></a>, and whether or
 not to apply a moving average.
 
 Must have one of "MODE" = <a href="../../../../org/numenta/nupic/algorithms/Anomaly.Mode.html#LIKELIHOOD"><code>Anomaly.Mode.LIKELIHOOD</code></a>, <a href="../../../../org/numenta/nupic/algorithms/Anomaly.Mode.html#PURE"><code>Anomaly.Mode.PURE</code></a>, <a href="../../../../org/numenta/nupic/algorithms/Anomaly.Mode.html#WEIGHTED"><code>Anomaly.Mode.WEIGHTED</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>p</code> - Map</dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="computeRawAnomalyScore-int:A-int:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeRawAnomalyScore</h4>
<pre>public static&nbsp;double&nbsp;computeRawAnomalyScore(int[]&nbsp;activeColumns,
                                            int[]&nbsp;prevPredictedColumns)</pre>
<div class="block">The raw anomaly score is the fraction of active columns not predicted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>activeColumns</code> - an array of active column indices</dd>
<dd><code>prevPredictedColumns</code> - array of column indices predicted in the 
                                  previous step</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>anomaly score 0..1</dd>
</dl>
</li>
</ul>
<a name="compute-int:A-int:A-double-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>compute</h4>
<pre>public abstract&nbsp;double&nbsp;compute(int[]&nbsp;activeColumns,
                               int[]&nbsp;predictedColumns,
                               double&nbsp;inputValue,
                               long&nbsp;timestamp)</pre>
<div class="block">Compute the anomaly score as the percent of active columns not predicted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>activeColumns</code> - array of active column indices</dd>
<dd><code>predictedColumns</code> - array of columns indices predicted in this step
                              (used for anomaly in step T+1)</dd>
<dd><code>inputValue</code> - (optional) value of current input to encoders 
                              (eg "cat" for category encoder)
                              (used in anomaly-likelihood)</dd>
<dd><code>timestamp</code> - timestamp: (optional) date timestamp when the sample occurred
                              (used in anomaly-likelihood)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Anomaly.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/numenta/nupic/algorithms/Anomaly.AveragedAnomalyRecordList.html" title="class in org.numenta.nupic.algorithms"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/numenta/nupic/algorithms/Anomaly.html" target="_top">Frames</a></li>
<li><a href="Anomaly.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
